---
title: "College_Basketball_Data_Analysis"
format: 
  html:
    code-tools: true
    toc: true
    embed-resources: true
editor: source
---



```{r}
#| include: false

library(tidyverse)
library(dagitty)
library(ggdag)
library(ggplot2)
library(bayesplot)
```

```{r}
#| include: false
# load data_set
data <- read_csv("summary25_pt.csv")
```

```{r}
# glimpse of the data
glimpse(data)
```
## Data Source


This data includes metrics such as:

- Tempo (pace of play)

- Offensive/Defensive Efficiency (OE/DE)

- Adjusted metrics (AdjOE, AdjDE)

- Efficiency margins

- Team seeds which indicates their tournament ranking.

## Research question

Our goal is to answer the question:

What is the probability that a team ends up in the top 4 seeds based on their adjusted offensive and defensive efficiency?

This will help us to understand which team characteristics are most influential in achieving a top seed, which is critical for predicting tournament success.


## Variables of Interest

- Response variable: seed_top4 

This is a binary variable we will create, indicating whether a team was seeded in the top 4 (TURE if seeded <= 4, otherwise FASLE)

- Key predictor: AdjOE thus Adjusted Offensive Efficiency

- Other predictors may include AdjDE, AdjTempo, AdjEM(Efficiency Margin).

```{r}
# binary response variable

data <- data %>%
  mutate (seed_top4 = ifelse(seed <4, TRUE, FALSE))

# check the class balance
table(data$seed_top4)
```


```{r}
# causal diagram

offensive_defensive_metrics <- dagitty("dag{
  AdjOE -> seed_top4;
  AdjDE -> seed_top4;
  AdjTempo -> seed_top4;
  AdjEM -> seed_top4;
  Tempo -> AdjTempo;
  OE -> AdjOE;
  DE -> AdjDE
}")
# plot it
ggdag(offensive_defensive_metrics) +
  theme(
    plot.margin = margin(10, 10, 10, 10)
  )
```

In the next steps of the analysis, we will:
	
- Fit the model with more iterations to refine the estimates
- Check model diagnostics (convergence check and residuals)
- Fitting the model using MCMC.
- Fit a logistic regression (GLM with binomial distribution) to model seed_top4 ~ AdjOE + AdjDE + AdjTempo + AdjEM.
- Interpret which performance metrics most significantly affect a teamâ€™s seeding.
- Evaluate prediction performance.



